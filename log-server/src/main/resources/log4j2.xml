<?xml version="1.0" encoding="UTF-8"?>  
<Configuration status="ERROR">  
    <Properties>  
        <Property name="baseDir">/DefeatEast/logs</Property>  
        <Property name="filename">/DefeatEast/logs/baseCollection.log</Property>  
        <Property name="filenameError">/DefeatEast/logs/baseCollectionError.log</Property>  
    </Properties>  
  
    <Appenders>  
        <Console name="STDOUT">  
            <PatternLayout pattern="%d{yyyy-MM-dd HH:mm:ss.SSS} [%t] %-5level %l - %msg%n"/>  
        </Console>  
        <RollingFile name="RollingFile" fileName="${filename}"  
                     filePattern="${baseDir}/${date:yyyy-MM}/baseCollection-%d{yyyy-MM-dd-HH-mm}.log.gz">  
            <PatternLayout pattern="%d %-5level [%t]%l - %msg%n"/>  
            <Policies>  
                <SizeBasedTriggeringPolicy size="200 MB"/>  
                <TimeBasedTriggeringPolicy interval="10" modulate="true"/>  
            </Policies>  
            <!--自动删除超过120天的日志压缩文件-->  
            <DefaultRolloverStrategy>  
                <Delete basePath="${baseDir}" maxDepth="2">  
                    <IfFileName glob="*/baseCollection-*.log.gz"/>  
                    <IfLastModified age="20d"/>  
                </Delete>  
            </DefaultRolloverStrategy>  
        </RollingFile>  
        <!--错误日志入文件-->  
        <RollingFile name="RollingFileError" fileName="${filenameError}"  
                     filePattern="${baseDir}/${date:yyyy-MM}/baseCollectionError-%d{yyyy-MM-dd-HH}.log">  
            <PatternLayout pattern="%d %-5level [%t]%l - %msg%n"/>  
            <Policies>  
                <SizeBasedTriggeringPolicy size="200 MB"/>  
                <TimeBasedTriggeringPolicy interval="24" modulate="true"/>  
            </Policies>  
            <!--自动删除超过120天的日志压缩文件-->  
            <DefaultRolloverStrategy>  
                <Delete basePath="${baseDir}" maxDepth="2">  
                    <IfFileName glob="*/baseCollectionError-*.log"/>  
                    <IfLastModified age="30d"/>  
                </Delete>  
            </DefaultRolloverStrategy>  
        </RollingFile>  
    </Appenders>  
    <Loggers>  
        <!--采用异步输出日志-->  
        <AsyncLogger name="com.choco" level="info">  
            <!--写入info级别-->  
            <AppenderRef ref="RollingFile"/>  
            <!--写入error级别-->  
            <AppenderRef ref="RollingFileError" level="error"/>  
        </AsyncLogger>  
        <Root level="debug">  
            <AppenderRef ref="STDOUT"/>  
        </Root>  
    </Loggers>  
</Configuration>